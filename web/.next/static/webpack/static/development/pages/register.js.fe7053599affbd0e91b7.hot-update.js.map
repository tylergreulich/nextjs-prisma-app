{"version":3,"file":"static/webpack/static\\development\\pages\\register.js.fe7053599affbd0e91b7.hot-update.js","sources":["webpack:///./components/Login.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { Mutation } from 'react-apollo';\r\nimport { LoginMutation, LoginMutationVariables } from '../graphql/schemaTypes';\r\nimport { LOGIN_MUTATION } from '../graphql/mutations/LoginMutation';\r\nimport { CURRENT_USER_QUERY } from '../graphql/queries/CurrentUserQuery';\r\nimport {\r\n  InputElementEvent,\r\n  FormElementEvent\r\n} from '../interfaces/shared/FormEvents';\r\nimport { LoginProps, LoginState } from '../interfaces/Login.interface';\r\n\r\nimport { Form } from './styles/Form';\r\nimport { ErrorMessage } from './ErrorMessage';\r\n\r\nexport class Login extends React.Component<LoginProps, LoginState> {\r\n  state: LoginState = {\r\n    email: '',\r\n    password: ''\r\n  };\r\n\r\n  handleChange = (event: InputElementEvent) => {\r\n    const { name, value } = event.currentTarget;\r\n\r\n    this.setState({\r\n      ...this.state,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { email, password } = this.state;\r\n\r\n    return (\r\n      <Mutation<LoginMutation, LoginMutationVariables>\r\n        mutation={LOGIN_MUTATION}\r\n        variables={this.state}\r\n        refetchQueries={[{ query: CURRENT_USER_QUERY }]}\r\n      >\r\n        {(login, { error, loading }) => {\r\n          return (\r\n            <Form\r\n              method=\"post\"\r\n              onSubmit={(event: FormElementEvent) => {\r\n                event.preventDefault();\r\n                login();\r\n                this.setState({\r\n                  email: '',\r\n                  password: ''\r\n                });\r\n              }}\r\n            >\r\n              <fieldset disabled={loading} aria-busy={loading}>\r\n                <h2>Please Login</h2>\r\n                <ErrorMessage error={error} />\r\n                <label htmlFor=\"email\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  value={email}\r\n                  onChange={this.handleChange}\r\n                  placeholder=\"Email\"\r\n                />\r\n                <label htmlFor=\"password\">Password</label>\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  value={password}\r\n                  onChange={this.handleChange}\r\n                  placeholder=\"Password\"\r\n                />\r\n                <button type=\"submit\">Login</button>\r\n              </fieldset>\r\n            </Form>\r\n          );\r\n        }}\r\n      </Mutation>\r\n    );\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AAOA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAEA;AACA;AAFA;AACA;AAFA;AAMA;AAAA;AAAA;AACA;AAEA;AAIA;AACA;AAdA;AAAA;AACA;AADA;AAAA;AAAA;AAeA;AACA;AADA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAGA;AA/DA;AACA;AADA;AAAA;;;;A","sourceRoot":""}